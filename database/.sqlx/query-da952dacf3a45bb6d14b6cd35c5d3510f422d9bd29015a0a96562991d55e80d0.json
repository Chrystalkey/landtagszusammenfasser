{
  "db_name": "PostgreSQL",
  "query": "\n        WITH existing_ids AS (SELECT DISTINCT sw_id FROM schlagwort WHERE value = ANY($1::text[])),\n        inserted AS(\n            INSERT INTO schlagwort(value) \n            SELECT DISTINCT(key) FROM UNNEST($1::text[]) as key\n            ON CONFLICT DO NOTHING\n            RETURNING sw_id\n        ),\n        allofthem AS(\n            SELECT sw_id FROM inserted UNION SELECT sw_id FROM existing_ids\n        )\n\n        INSERT INTO rel_dok_schlagwort(dok_id, sw_id)\n        SELECT $2, allofthem.sw_id FROM allofthem",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "TextArray",
        "Int4"
      ]
    },
    "nullable": []
  },
  "hash": "da952dacf3a45bb6d14b6cd35c5d3510f422d9bd29015a0a96562991d55e80d0"
}
